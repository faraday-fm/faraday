var Y,p,f_,P_,N,o_,c_,X,q,G,j,H_,w={},l_=[],W_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Z=Array.isArray;function D(_,e){for(var n in e)_[n]=e[n];return _}function E_(_){var e=_.parentNode;e&&e.removeChild(_)}function b_(_,e,n){var t,o,u,f={};for(u in e)u=="key"?t=e[u]:u=="ref"?o=e[u]:f[u]=e[u];if(arguments.length>2&&(f.children=arguments.length>3?Y.call(arguments,2):n),typeof _=="function"&&_.defaultProps!=null)for(u in _.defaultProps)f[u]===void 0&&(f[u]=_.defaultProps[u]);return b(_,f,t,o,null)}function b(_,e,n,t,o){var u={type:_,props:e,key:n,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++f_,__i:-1,__u:0};return o==null&&p.vnode!=null&&p.vnode(u),u}function y(_){return _.children}function k(_,e){this.props=_,this.context=e}function O(_,e){if(e==null)return _.__?O(_.__,_.__i+1):null;for(var n;e<_.__k.length;e++)if((n=_.__k[e])!=null&&n.__e!=null)return n.__e;return typeof _.type=="function"?O(_):null}function a_(_){var e,n;if((_=_.__)!=null&&_.__c!=null){for(_.__e=_.__c.base=null,e=0;e<_.__k.length;e++)if((n=_.__k[e])!=null&&n.__e!=null){_.__e=_.__c.base=n.__e;break}return a_(_)}}function r_(_){(!_.__d&&(_.__d=!0)&&N.push(_)&&!g.__r++||o_!==p.debounceRendering)&&((o_=p.debounceRendering)||c_)(g)}function g(){var _,e,n,t,o,u,f,i;for(N.sort(X);_=N.shift();)_.__d&&(e=N.length,t=void 0,u=(o=(n=_).__v).__e,f=[],i=[],n.__P&&((t=D({},o)).__v=o.__v+1,p.vnode&&p.vnode(t),B(n.__P,t,o,n.__n,n.__P.namespaceURI,32&o.__u?[u]:null,f,u??O(o),!!(32&o.__u),i),t.__v=o.__v,t.__.__k[t.__i]=t,h_(f,t,i),t.__e!=u&&a_(t)),N.length>e&&N.sort(X));g.__r=0}function p_(_,e,n,t,o,u,f,i,l,c,a){var r,d,E,I,C,S=t&&t.__k||l_,h=e.length;for(n.__d=l,k_(n,e,S),l=n.__d,r=0;r<h;r++)(E=n.__k[r])!=null&&typeof E!="boolean"&&typeof E!="function"&&(d=E.__i===-1?w:S[E.__i]||w,E.__i=r,B(_,E,d,o,u,f,i,l,c,a),I=E.__e,E.ref&&d.ref!=E.ref&&(d.ref&&z(d.ref,null,E),a.push(E.ref,E.__c||I,E)),C==null&&I!=null&&(C=I),65536&E.__u||d.__k===E.__k?l=d_(E,l,_):typeof E.type=="function"&&E.__d!==void 0?l=E.__d:I&&(l=I.nextSibling),E.__d=void 0,E.__u&=-196609);n.__d=l,n.__e=C}function k_(_,e,n){var t,o,u,f,i,l=e.length,c=n.length,a=c,r=0;for(_.__k=[],t=0;t<l;t++)f=t+r,(o=_.__k[t]=(o=e[t])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?b(null,o,null,null,null):Z(o)?b(y,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?b(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=_,o.__b=_.__b+1,i=g_(o,n,f,a),o.__i=i,u=null,i!==-1&&(a--,(u=n[i])&&(u.__u|=131072)),u==null||u.__v===null?(i==-1&&r--,typeof o.type!="function"&&(o.__u|=65536)):i!==f&&(i==f-1?r=i-f:i==f+1?r++:i>f?a>l-f?r+=i-f:r--:i<f&&r++,i!==t+r&&(o.__u|=65536))):(u=n[f])&&u.key==null&&u.__e&&!(131072&u.__u)&&(u.__e==_.__d&&(_.__d=O(u)),$(u,u,!1),n[f]=null,a--);if(a)for(t=0;t<c;t++)(u=n[t])!=null&&!(131072&u.__u)&&(u.__e==_.__d&&(_.__d=O(u)),$(u,u))}function d_(_,e,n){var t,o;if(typeof _.type=="function"){for(t=_.__k,o=0;t&&o<t.length;o++)t[o]&&(t[o].__=_,e=d_(t[o],e,n));return e}_.__e!=e&&(e&&_.type&&!n.contains(e)&&(e=O(_)),n.insertBefore(_.__e,e||null),e=_.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function g_(_,e,n,t){var o=_.key,u=_.type,f=n-1,i=n+1,l=e[n];if(l===null||l&&o==l.key&&u===l.type&&!(131072&l.__u))return n;if(t>(l!=null&&!(131072&l.__u)?1:0))for(;f>=0||i<e.length;){if(f>=0){if((l=e[f])&&!(131072&l.__u)&&o==l.key&&u===l.type)return f;f--}if(i<e.length){if((l=e[i])&&!(131072&l.__u)&&o==l.key&&u===l.type)return i;i++}}return-1}function u_(_,e,n){e[0]==="-"?_.setProperty(e,n??""):_[e]=n==null?"":typeof n!="number"||W_.test(e)?n:n+"px"}function W(_,e,n,t,o){var u;_:if(e==="style")if(typeof n=="string")_.style.cssText=n;else{if(typeof t=="string"&&(_.style.cssText=t=""),t)for(e in t)n&&e in n||u_(_.style,e,"");if(n)for(e in n)t&&n[e]===t[e]||u_(_.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")u=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in _||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),_.l||(_.l={}),_.l[e+u]=n,n?t?n.u=t.u:(n.u=q,_.addEventListener(e,u?j:G,u)):_.removeEventListener(e,u?j:G,u);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in _)try{_[e]=n??"";break _}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?_.removeAttribute(e):_.setAttribute(e,e=="popover"&&n==1?"":n))}}function i_(_){return function(e){if(this.l){var n=this.l[e.type+_];if(e.t==null)e.t=q++;else if(e.t<n.u)return;return n(p.event?p.event(e):e)}}}function B(_,e,n,t,o,u,f,i,l,c){var a,r,d,E,I,C,S,h,v,L,m,x,U,t_,P,K,R=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),u=[i=e.__e=n.__e]),(a=p.__b)&&a(e);_:if(typeof R=="function")try{if(h=e.props,v="prototype"in R&&R.prototype.render,L=(a=R.contextType)&&t[a.__c],m=a?L?L.props.value:a.__:t,n.__c?S=(r=e.__c=n.__c).__=r.__E:(v?e.__c=r=new R(h,m):(e.__c=r=new k(h,m),r.constructor=R,r.render=V_),L&&L.sub(r),r.props=h,r.state||(r.state={}),r.context=m,r.__n=t,d=r.__d=!0,r.__h=[],r._sb=[]),v&&r.__s==null&&(r.__s=r.state),v&&R.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=D({},r.__s)),D(r.__s,R.getDerivedStateFromProps(h,r.__s))),E=r.props,I=r.state,r.__v=e,d)v&&R.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),v&&r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(v&&R.getDerivedStateFromProps==null&&h!==E&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(h,m),!r.__e&&(r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(h,r.__s,m)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(r.props=h,r.state=r.__s,r.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(H){H&&(H.__=e)}),x=0;x<r._sb.length;x++)r.__h.push(r._sb[x]);r._sb=[],r.__h.length&&f.push(r);break _}r.componentWillUpdate!=null&&r.componentWillUpdate(h,r.__s,m),v&&r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(E,I,C)})}if(r.context=m,r.props=h,r.__P=_,r.__e=!1,U=p.__r,t_=0,v){for(r.state=r.__s,r.__d=!1,U&&U(e),a=r.render(r.props,r.state,r.context),P=0;P<r._sb.length;P++)r.__h.push(r._sb[P]);r._sb=[]}else do r.__d=!1,U&&U(e),a=r.render(r.props,r.state,r.context),r.state=r.__s;while(r.__d&&++t_<25);r.state=r.__s,r.getChildContext!=null&&(t=D(D({},t),r.getChildContext())),v&&!d&&r.getSnapshotBeforeUpdate!=null&&(C=r.getSnapshotBeforeUpdate(E,I)),p_(_,Z(K=a!=null&&a.type===y&&a.key==null?a.props.children:a)?K:[K],e,n,t,o,u,f,i,l,c),r.base=e.__e,e.__u&=-161,r.__h.length&&f.push(r),S&&(r.__E=r.__=null)}catch(H){if(e.__v=null,l||u!=null){for(e.__u|=l?160:32;i&&i.nodeType===8&&i.nextSibling;)i=i.nextSibling;u[u.indexOf(i)]=null,e.__e=i}else e.__e=n.__e,e.__k=n.__k;p.__e(H,e,n)}else u==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Y_(n.__e,e,n,t,o,u,f,l,c);(a=p.diffed)&&a(e)}function h_(_,e,n){e.__d=void 0;for(var t=0;t<n.length;t++)z(n[t],n[++t],n[++t]);p.__c&&p.__c(e,_),_.some(function(o){try{_=o.__h,o.__h=[],_.some(function(u){u.call(o)})}catch(u){p.__e(u,o.__v)}})}function Y_(_,e,n,t,o,u,f,i,l){var c,a,r,d,E,I,C,S=n.props,h=e.props,v=e.type;if(v==="svg"?o="http://www.w3.org/2000/svg":v==="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),u!=null){for(c=0;c<u.length;c++)if((E=u[c])&&"setAttribute"in E==!!v&&(v?E.localName===v:E.nodeType===3)){_=E,u[c]=null;break}}if(_==null){if(v===null)return document.createTextNode(h);_=document.createElementNS(o,v,h.is&&h),u=null,i=!1}if(v===null)S===h||i&&_.data===h||(_.data=h);else{if(u=u&&Y.call(_.childNodes),S=n.props||w,!i&&u!=null)for(S={},c=0;c<_.attributes.length;c++)S[(E=_.attributes[c]).name]=E.value;for(c in S)if(E=S[c],c!="children"){if(c=="dangerouslySetInnerHTML")r=E;else if(c!=="key"&&!(c in h)){if(c=="value"&&"defaultValue"in h||c=="checked"&&"defaultChecked"in h)continue;W(_,c,null,E,o)}}for(c in h)E=h[c],c=="children"?d=E:c=="dangerouslySetInnerHTML"?a=E:c=="value"?I=E:c=="checked"?C=E:c==="key"||i&&typeof E!="function"||S[c]===E||W(_,c,E,S[c],o);if(a)i||r&&(a.__html===r.__html||a.__html===_.innerHTML)||(_.innerHTML=a.__html),e.__k=[];else if(r&&(_.innerHTML=""),p_(_,Z(d)?d:[d],e,n,t,v==="foreignObject"?"http://www.w3.org/1999/xhtml":o,u,f,u?u[0]:n.__k&&O(n,0),i,l),u!=null)for(c=u.length;c--;)u[c]!=null&&E_(u[c]);i||(c="value",I!==void 0&&(I!==_[c]||v==="progress"&&!I||v==="option"&&I!==S[c])&&W(_,c,I,S[c],o),c="checked",C!==void 0&&C!==_[c]&&W(_,c,C,S[c],o))}return _}function z(_,e,n){try{if(typeof _=="function"){var t=typeof _.__u=="function";t&&_.__u(),t&&e==null||(_.__u=_(e))}else _.current=e}catch(o){p.__e(o,n)}}function $(_,e,n){var t,o;if(p.unmount&&p.unmount(_),(t=_.ref)&&(t.current&&t.current!==_.__e||z(t,null,e)),(t=_.__c)!=null){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(u){p.__e(u,e)}t.base=t.__P=null}if(t=_.__k)for(o=0;o<t.length;o++)t[o]&&$(t[o],e,n||typeof _.type!="function");n||_.__e==null||E_(_.__e),_.__c=_.__=_.__e=_.__d=void 0}function V_(_,e,n){return this.constructor(_,n)}function v_(_,e,n){var t,o,u,f;p.__&&p.__(_,e),o=(t=typeof n=="function")?null:n&&n.__k||e.__k,u=[],f=[],B(e,_=(!t&&n||e).__k=b_(y,null,[_]),o||w,w,e.namespaceURI,!t&&n?[n]:o?null:e.firstChild?Y.call(e.childNodes):null,u,!t&&n?n:o?o.__e:e.firstChild,t,f),h_(u,_,f)}Y=l_.slice,p={__e:function(_,e,n,t){for(var o,u,f;e=e.__;)if((o=e.__c)&&!o.__)try{if((u=o.constructor)&&u.getDerivedStateFromError!=null&&(o.setState(u.getDerivedStateFromError(_)),f=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(_,t||{}),f=o.__d),f)return o.__E=o}catch(i){_=i}throw _}},f_=0,P_=function(_){return _!=null&&_.constructor==null},k.prototype.setState=function(_,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=D({},this.state),typeof _=="function"&&(_=_(D({},n),this.props)),_&&D(n,_),_!=null&&this.__v&&(e&&this._sb.push(e),r_(this))},k.prototype.forceUpdate=function(_){this.__v&&(this.__e=!0,_&&this.__h.push(_),r_(this))},k.prototype.render=y,N=[],c_=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,X=function(_,e){return _.__v.__b-e.__v.__b},g.__r=0,q=0,G=i_(!1),j=i_(!0),H_=0;var M,s,J,s_,Q=0,y_=[],T=p,T_=T.__b,I_=T.__r,S_=T.diffed,C_=T.__c,R_=T.unmount,m_=T.__;function N_(_,e){T.__h&&T.__h(s,_,Q||e),Q=0;var n=s.__H||(s.__H={__:[],__h:[]});return _>=n.__.length&&n.__.push({}),n.__[_]}function __(_){return Q=1,M_(A_,_)}function M_(_,e,n){var t=N_(M++,2);if(t.t=_,!t.__c&&(t.__=[n?n(e):A_(void 0,e),function(i){var l=t.__N?t.__N[0]:t.__[0],c=t.t(l,i);l!==c&&(t.__N=[c,t.__[1]],t.__c.setState({}))}],t.__c=s,!s.u)){var o=function(i,l,c){if(!t.__c.__H)return!0;var a=t.__c.__H.__.filter(function(d){return!!d.__c});if(a.every(function(d){return!d.__N}))return!u||u.call(this,i,l,c);var r=!1;return a.forEach(function(d){if(d.__N){var E=d.__[0];d.__=d.__N,d.__N=void 0,E!==d.__[0]&&(r=!0)}}),!(!r&&t.__c.props===i)&&(!u||u.call(this,i,l,c))};s.u=!0;var u=s.shouldComponentUpdate,f=s.componentWillUpdate;s.componentWillUpdate=function(i,l,c){if(this.__e){var a=u;u=void 0,o(i,l,c),u=a}f&&f.call(this,i,l,c)},s.shouldComponentUpdate=o}return t.__N||t.__}function O_(_,e){var n=N_(M++,3);!T.__s&&G_(n.__H,e)&&(n.__=_,n.i=e,s.__H.__h.push(n))}function K_(){for(var _;_=y_.shift();)if(_.__P&&_.__H)try{_.__H.__h.forEach(V),_.__H.__h.forEach(F),_.__H.__h=[]}catch(e){_.__H.__h=[],T.__e(e,_.__v)}}T.__b=function(_){s=null,T_&&T_(_)},T.__=function(_,e){_&&e.__k&&e.__k.__m&&(_.__m=e.__k.__m),m_&&m_(_,e)},T.__r=function(_){I_&&I_(_),M=0;var e=(s=_.__c).__H;e&&(J===s?(e.__h=[],s.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(V),e.__h.forEach(F),e.__h=[],M=0)),J=s},T.diffed=function(_){S_&&S_(_);var e=_.__c;e&&e.__H&&(e.__H.__h.length&&(y_.push(e)!==1&&s_===T.requestAnimationFrame||((s_=T.requestAnimationFrame)||X_)(K_)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),J=s=null},T.__c=function(_,e){e.some(function(n){try{n.__h.forEach(V),n.__h=n.__h.filter(function(t){return!t.__||F(t)})}catch(t){e.some(function(o){o.__h&&(o.__h=[])}),e=[],T.__e(t,n.__v)}}),C_&&C_(_,e)},T.unmount=function(_){R_&&R_(_);var e,n=_.__c;n&&n.__H&&(n.__H.__.forEach(function(t){try{V(t)}catch(o){e=o}}),n.__H=void 0,e&&T.__e(e,n.__v))};var D_=typeof requestAnimationFrame=="function";function X_(_){var e,n=function(){clearTimeout(t),D_&&cancelAnimationFrame(e),setTimeout(_)},t=setTimeout(n,100);D_&&(e=requestAnimationFrame(n))}function V(_){var e=s,n=_.__c;typeof n=="function"&&(_.__c=void 0,n()),s=e}function F(_){var e=s;_.__c=_.__(),s=e}function G_(_,e){return!_||_.length!==e.length||e.some(function(n,t){return n!==_[t]})}function A_(_,e){return typeof e=="function"?e(_):e}var e_=(_=>(_[_.READ_DATA=1]="READ_DATA",_[_.LIST_DIRECTORY=1]="LIST_DIRECTORY",_[_.WRITE_DATA=2]="WRITE_DATA",_[_.ADD_FILE=2]="ADD_FILE",_[_.APPEND_DATA=4]="APPEND_DATA",_[_.ADD_SUBDIRECTORY=4]="ADD_SUBDIRECTORY",_[_.READ_NAMED_ATTRS=8]="READ_NAMED_ATTRS",_[_.WRITE_NAMED_ATTRS=16]="WRITE_NAMED_ATTRS",_[_.EXECUTE=32]="EXECUTE",_[_.DELETE_CHILD=64]="DELETE_CHILD",_[_.READ_ATTRIBUTES=128]="READ_ATTRIBUTES",_[_.WRITE_ATTRIBUTES=256]="WRITE_ATTRIBUTES",_[_.DELETE=65536]="DELETE",_[_.READ_ACL=131072]="READ_ACL",_[_.WRITE_ACL=262144]="WRITE_ACL",_[_.WRITE_OWNER=524288]="WRITE_OWNER",_[_.SYNCHRONIZE=1048576]="SYNCHRONIZE",_))(e_||{}),n_=(_=>(_[_.ACCESS_DISPOSITION=7]="ACCESS_DISPOSITION",_[_.CREATE_NEW=0]="CREATE_NEW",_[_.CREATE_TRUNCATE=1]="CREATE_TRUNCATE",_[_.OPEN_EXISTING=2]="OPEN_EXISTING",_[_.OPEN_OR_CREATE=3]="OPEN_OR_CREATE",_[_.TRUNCATE_EXISTING=4]="TRUNCATE_EXISTING",_[_.APPEND_DATA=8]="APPEND_DATA",_[_.APPEND_DATA_ATOMIC=16]="APPEND_DATA_ATOMIC",_[_.TEXT_MODE=32]="TEXT_MODE",_[_.BLOCK_READ=64]="BLOCK_READ",_[_.BLOCK_WRITE=128]="BLOCK_WRITE",_[_.BLOCK_DELETE=256]="BLOCK_DELETE",_[_.BLOCK_ADVISORY=512]="BLOCK_ADVISORY",_[_.NOFOLLOW=1024]="NOFOLLOW",_[_.DELETE_ON_CLOSE=2048]="DELETE_ON_CLOSE",_[_.ACCESS_AUDIT_ALARM_INFO=4096]="ACCESS_AUDIT_ALARM_INFO",_[_.ACCESS_BACKUP=8192]="ACCESS_BACKUP",_[_.BACKUP_STREAM=16384]="BACKUP_STREAM",_[_.OVERRIDE_OWNER=32768]="OVERRIDE_OWNER",_))(n_||{});var L_=1024*1024;function U_(_,e,n){let t,o=0;return new ReadableStream({async start(){t=await _.open(e,e_.READ_DATA,n_.OPEN_EXISTING,void 0,{signal:n})},async pull(f){if(n?.aborted){f.close();return}try{let i=await _.read(t,o,L_,{signal:n});o+=L_,i.byteLength>0?f.enqueue(i):f.close()}catch{f.close()}},async cancel(){_.close(t)}})}async function w_(_){let e=_.getReader(),n=[],t=0;for(;;){let{done:f,value:i}=await e.read();if(f)break;i&&(n.push(i),t+=i.length)}let o=new Uint8Array(t),u=0;for(let f of n)o.set(f,u),u+=f.length;return o}var j_=0,_e=Array.isArray;function A(_,e,n,t,o,u){e||(e={});var f,i,l=e;if("ref"in l)for(i in l={},e)i=="ref"?f=e[i]:l[i]=e[i];var c={type:_,props:l,key:n,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--j_,__i:-1,__u:0,__source:o,__self:u};if(typeof _=="function"&&(f=_.defaultProps))for(i in f)l[i]===void 0&&(l[i]=f[i]);return p.vnode&&p.vnode(c),c}function x_(){let[_,e]=__(""),[n,t]=__("");return console.info("TextViewer rendered",_),O_(()=>{let o=u=>{console.info("activefilechange",u),e(u);let f=U_(faraday.fs,u);w_(f).then(i=>t(new TextDecoder().decode(i)))};return faraday.events.on("activefilechange",o),()=>faraday.events.off("activefilechange",o)},[]),A(y,{children:[A("div",{children:_}),A("div",{style:{whiteSpace:"pre-wrap"},children:n})]})}function le(){console.info("Text Viewer inited!",document.getElementById("root"));let _=A(x_,{});console.info(_),v_(_,document.getElementById("root"))}export{le as init};
